{"version":3,"sources":["constants/actionTypes.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","components/Home/index.js","components/Home/Banner.js","components/Home/MainView.js","components/Home/Tags.js","agent.js","middleware.js","reducers/common.js","reducer.js","reducers/article.js","reducers/articleList.js","reducers/auth.js","reducers/editor.js","reducers/home.js","reducers/profile.js","reducers/settings.js","store.js","components/Header.js","components/Article/ArticleActions.js","components/Article/ArticleMeta.js","components/Article/CommentInput.js","components/Article/DeleteButton.js","components/Article/Comment.js","components/Article/CommentList.js","components/Article/CommentContainer.js","components/Article/index.js","components/ListErrors.js","components/Editor.js","components/Login.js","components/Profile.js","components/ProfileFavorites.js","components/Register.js","components/Settings.js","components/App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","APP_LOAD","REDIRECT","ARTICLE_SUBMITTED","SETTINGS_SAVED","DELETE_ARTICLE","SETTINGS_PAGE_UNLOADED","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","ARTICLE_FAVORITED","ARTICLE_UNFAVORITED","SET_PAGE","APPLY_TAG_FILTER","CHANGE_TAB","PROFILE_PAGE_LOADED","PROFILE_PAGE_UNLOADED","LOGIN","LOGOUT","REGISTER","LOGIN_PAGE_UNLOADED","REGISTER_PAGE_UNLOADED","ASYNC_START","ASYNC_END","EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_AUTH","UPDATE_FIELD_EDITOR","FOLLOW_USER","UNFOLLOW_USER","PROFILE_FAVORITES_PAGE_UNLOADED","PROFILE_FAVORITES_PAGE_LOADED","connect","dispatch","favorite","slug","type","payload","agent","Articles","unfavorite","props","article","favoriteButtonClass","favorited","react_default","a","createElement","className","Link","to","concat","author","username","src","image","alt","Date","createdAt","toDateString","data-cy","onClick","ev","preventDefault","favoritesCount","title","description","tagList","map","tag","key","onSetPage","page","articlesCount","range","i","Math","ceil","push","v","isCurrent","currentPage","pager","all","toString","href","ArticleList","articles","length","components_ArticlePreview","components_ListPagination","Promise","global","Home","tab","this","token","articlesPromise","feed","onLoad","Tags","getAll","onUnload","react__WEBPACK_IMPORTED_MODULE_8___default","_Banner__WEBPACK_IMPORTED_MODULE_6__","appName","_MainView__WEBPACK_IMPORTED_MODULE_7__","_Tags__WEBPACK_IMPORTED_MODULE_9__","tags","onClickTag","React","Component","state","Object","D_TRAINING_Cypress_cypress_example_realworld_client_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","home","common","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Banner","_ref","toLowerCase","YourFeedTab","react__WEBPACK_IMPORTED_MODULE_2___default","onTabClick","GlobalFeedTab","TagFilterTab","D_TRAINING_Cypress_cypress_example_realworld_client_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","articleList","_ArticleList__WEBPACK_IMPORTED_MODULE_1__","loading","_agent__WEBPACK_IMPORTED_MODULE_1__","byTag","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","superagent","superagentPromise","_superagent","API_ROOT","encode","encodeURIComponent","responseBody","res","body","tokenPlugin","req","set","requests","url","del","use","then","get","put","post","Auth","current","login","email","password","user","register","save","limit","count","p","omitSlug","assign","undefined","byAuthor","favoritedBy","update","create","Comments","comment","delete","commentId","forArticle","Profile","follow","unfollow","setToken","_token","promiseMiddleware","store","next","action","subtype","currentView","getState","viewChangeCounter","skipTracking","currentState","console","log","promise","error","response","errors","unauthorized","localStorageMiddleware","window","localStorage","setItem","defaultState","combineReducers","arguments","objectSpread","comments","commentErrors","filter","id","auth","inProgress","defineProperty","value","appLoaded","currentUser","redirectTo","redirectUrl","editor","articleSlug","tagInput","profile","settings","router","routerReducer","history","createBrowserHistory","myRouterMiddleware","routerMiddleware","createStore","reducer","composeWithDevTools","applyMiddleware","LoggedOutView","LoggedInView","Header","Header_LoggedOutView","Header_LoggedInView","onClickDelete","canModify","ArticleMeta","Article_ArticleActions","CommentInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setBody","setState","target","createComment","onSubmit","placeholder","onChange","rows","show","Comment","Article_DeleteButton","CommentList","Article_Comment","CommentContainer","Article_CommentInput","Article_CommentList","Article","match","params","markup","__html","marked","sanitize","Article_ArticleMeta","dangerouslySetInnerHTML","Article_CommentContainer","ListErrors","keys","Editor","updateFieldEvent","onUpdateField","changeTitle","changeDescription","changeBody","changeTagInput","watchForEnter","keyCode","onAddTag","removeTagHandler","onRemoveTag","submitForm","nextProps","_this2","components_ListErrors","onKeyUp","disabled","Login","changeEmail","onChangeEmail","changePassword","onChangePassword","EditProfileSettings","isUser","FollowUserButton","classes","following","mapStateToProps","bio","Profile_EditProfileSettings","Profile_FollowUserButton","onFollow","onUnfollow","renderTabs","ProfileFavorites","Register","changeUsername","onChangeUsername","SettingsForm","updateState","field","newState","onSubmitForm","Settings","Settings_SettingsForm","onClickLogout","App","onRedirect","getItem","components_Header","Switch","Route","exact","path","component","Cypress","ReactDOM","render","es","react_router_redux_es","document","getElementById"],"mappings":"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","file":"static/js/main.f8ff95e9.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\r\nexport const REDIRECT = 'REDIRECT';\r\nexport const ARTICLE_SUBMITTED = 'ARTICLE_SUBMITTED';\r\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED';\r\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE';\r\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED';\r\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED';\r\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED';\r\nexport const ARTICLE_PAGE_LOADED = 'ARTICLE_PAGE_LOADED';\r\nexport const ARTICLE_PAGE_UNLOADED = 'ARTICLE_PAGE_UNLOADED';\r\nexport const ADD_COMMENT = 'ADD_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\r\nexport const ARTICLE_FAVORITED = 'ARTICLE_FAVORITED';\r\nexport const ARTICLE_UNFAVORITED = 'ARTICLE_UNFAVORITED';\r\nexport const SET_PAGE = 'SET_PAGE';\r\nexport const APPLY_TAG_FILTER = 'APPLY_TAG_FILTER';\r\nexport const CHANGE_TAB = 'CHANGE_TAB';\r\nexport const PROFILE_PAGE_LOADED = 'PROFILE_PAGE_LOADED';\r\nexport const PROFILE_PAGE_UNLOADED = 'PROFILE_PAGE_UNLOADED';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const REGISTER = 'REGISTER';\r\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED';\r\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED';\r\nexport const ASYNC_START = 'ASYNC_START';\r\nexport const ASYNC_END = 'ASYNC_END';\r\nexport const EDITOR_PAGE_LOADED = 'EDITOR_PAGE_LOADED';\r\nexport const EDITOR_PAGE_UNLOADED = 'EDITOR_PAGE_UNLOADED';\r\nexport const ADD_TAG = 'ADD_TAG';\r\nexport const REMOVE_TAG = 'REMOVE_TAG';\r\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\r\nexport const UPDATE_FIELD_EDITOR = 'UPDATE_FIELD_EDITOR';\r\nexport const FOLLOW_USER = 'FOLLOW_USER';\r\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\r\nexport const PROFILE_FAVORITES_PAGE_UNLOADED = 'PROFILE_FAVORITES_PAGE_UNLOADED';\r\nexport const PROFILE_FAVORITES_PAGE_LOADED = 'PROFILE_FAVORITES_PAGE_LOADED';","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  ARTICLE_FAVORITED,\r\n  ARTICLE_UNFAVORITED\r\n} from '../constants/actionTypes'\r\n\r\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary'\r\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  favorite: slug =>\r\n    dispatch({\r\n      type: ARTICLE_FAVORITED,\r\n      payload: agent.Articles.favorite(slug)\r\n    }),\r\n  unfavorite: slug =>\r\n    dispatch({\r\n      type: ARTICLE_UNFAVORITED,\r\n      payload: agent.Articles.unfavorite(slug)\r\n    })\r\n})\r\n\r\nconst ArticlePreview = props => {\r\n  const article = props.article\r\n  const favoriteButtonClass = article.favorited\r\n    ? FAVORITED_CLASS\r\n    : NOT_FAVORITED_CLASS\r\n\r\n  const handleClick = ev => {\r\n    ev.preventDefault()\r\n    if (article.favorited) {\r\n      props.unfavorite(article.slug)\r\n    } else {\r\n      props.favorite(article.slug)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='article-preview'>\r\n      <div className='article-meta'>\r\n        <Link to={`/@${article.author.username}`}>\r\n          <img src={article.author.image} alt={article.author.username} />\r\n        </Link>\r\n\r\n        <div className='info'>\r\n          <Link className='author' to={`/@${article.author.username}`}>\r\n            {article.author.username}\r\n          </Link>\r\n          <span className='date'>\r\n            {new Date(article.createdAt).toDateString()}\r\n          </span>\r\n        </div>\r\n\r\n        <div className='pull-xs-right'>\r\n          <button\r\n            data-cy='fav-article'\r\n            className={favoriteButtonClass}\r\n            onClick={handleClick}\r\n          >\r\n            <i className='ion-heart' /> {article.favoritesCount}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Link to={`/article/${article.slug}`} className='preview-link'>\r\n        <h1>{article.title}</h1>\r\n        <p>{article.description}</p>\r\n        <span>Read more...</span>\r\n        <ul className='tag-list'>\r\n          {article.tagList.map(tag => {\r\n            return (\r\n              <li className='tag-default tag-pill tag-outline' key={tag}>\r\n                {tag}\r\n              </li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  mapDispatchToProps\r\n)(ArticlePreview)\r\n","import React from 'react'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport { SET_PAGE } from '../constants/actionTypes'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSetPage: (page, payload) => dispatch({ type: SET_PAGE, page, payload })\r\n})\r\n\r\nconst ListPagination = props => {\r\n  if (props.articlesCount <= 10) {\r\n    return null\r\n  }\r\n\r\n  const range = []\r\n  for (let i = 0; i < Math.ceil(props.articlesCount / 10); ++i) {\r\n    range.push(i)\r\n  }\r\n\r\n  const setPage = page => {\r\n    if (props.pager) {\r\n      props.onSetPage(page, props.pager(page))\r\n    } else {\r\n      props.onSetPage(page, agent.Articles.all(page))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className='pagination'>\r\n        {range.map(v => {\r\n          const isCurrent = v === props.currentPage\r\n          const onClick = ev => {\r\n            ev.preventDefault()\r\n            setPage(v)\r\n          }\r\n          return (\r\n            <li\r\n              className={isCurrent ? 'page-item active' : 'page-item'}\r\n              onClick={onClick}\r\n              key={v.toString()}\r\n            >\r\n              <a className='page-link' href='' data-cy='page-link'>\r\n                {v + 1}\r\n              </a>\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  mapDispatchToProps\r\n)(ListPagination)\r\n","import ArticlePreview from './ArticlePreview';\r\nimport ListPagination from './ListPagination';\r\nimport React from 'react';\r\n\r\nconst ArticleList = props => {\r\n  if (!props.articles) {\r\n    return (\r\n      <div className=\"article-preview-loading\">Loading...</div>\r\n    );\r\n  }\r\n\r\n  if (props.articles.length === 0) {\r\n    return (\r\n      <div className=\"article-preview\">\r\n        No articles are here... yet.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        props.articles.map(article => {\r\n          return (\r\n            <ArticlePreview article={article} key={article.slug} />\r\n          );\r\n        })\r\n      }\r\n\r\n      <ListPagination\r\n        pager={props.pager}\r\n        articlesCount={props.articlesCount}\r\n        currentPage={props.currentPage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticleList;\r\n","import Banner from './Banner';\r\nimport MainView from './MainView';\r\nimport React from 'react';\r\nimport Tags from './Tags';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  APPLY_TAG_FILTER\r\n} from '../../constants/actionTypes';\r\n\r\nconst Promise = global.Promise;\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.home,\r\n  appName: state.common.appName,\r\n  token: state.common.token\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClickTag: (tag, pager, payload) =>\r\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\r\n  onLoad: (tab, pager, payload) =>\r\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\r\n  onUnload: () =>\r\n    dispatch({  type: HOME_PAGE_UNLOADED })\r\n});\r\n\r\nclass Home extends React.Component {\r\n  componentWillMount() {\r\n    const tab = this.props.token ? 'feed' : 'all';\r\n    const articlesPromise = this.props.token ?\r\n      agent.Articles.feed :\r\n      agent.Articles.all;\r\n\r\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"home-page\">\r\n\r\n        <Banner token={this.props.token} appName={this.props.appName} />\r\n\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n            <MainView />\r\n\r\n            <div className=\"col-md-3\">\r\n              <div className=\"sidebar\">\r\n\r\n                <p>Popular Tags</p>\r\n\r\n                <Tags\r\n                  tags={this.props.tags}\r\n                  onClickTag={this.props.onClickTag} />\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React from 'react';\r\n\r\nconst Banner = ({ appName, token }) => {\r\n  if (token) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"banner\">\r\n      <div className=\"container\">\r\n        <h1 className=\"logo-font\">\r\n          {appName.toLowerCase()}\r\n        </h1>\r\n        <p>A place to share your knowledge.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import ArticleList from '../ArticleList'\r\nimport React from 'react'\r\nimport agent from '../../agent'\r\nimport { connect } from 'react-redux'\r\nimport { CHANGE_TAB } from '../../constants/actionTypes'\r\n\r\nconst YourFeedTab = props => {\r\n  if (props.token) {\r\n    const clickHandler = ev => {\r\n      ev.preventDefault()\r\n      props.onTabClick('feed', agent.Articles.feed, agent.Articles.feed())\r\n    }\r\n\r\n    return (\r\n      <li className='nav-item' data-cy='your-feed'>\r\n        <a\r\n          href=''\r\n          className={props.tab === 'feed' ? 'nav-link active' : 'nav-link'}\r\n          onClick={clickHandler}\r\n        >\r\n          Your Feed\r\n        </a>\r\n      </li>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nconst GlobalFeedTab = props => {\r\n  const clickHandler = ev => {\r\n    ev.preventDefault()\r\n    props.onTabClick('all', agent.Articles.all, agent.Articles.all())\r\n  }\r\n  return (\r\n    <li className='nav-item' data-cy='global-feed'>\r\n      <a\r\n        href=''\r\n        className={props.tab === 'all' ? 'nav-link active' : 'nav-link'}\r\n        onClick={clickHandler}\r\n      >\r\n        Global Feed\r\n      </a>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst TagFilterTab = props => {\r\n  if (!props.tag) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <li className='nav-item' data-cy='tag-feed'>\r\n      <a href='' className='nav-link active'>\r\n        <i className='ion-pound' /> {props.tag}\r\n      </a>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.articleList,\r\n  tags: state.home.tags,\r\n  token: state.common.token\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onTabClick: (tab, pager, payload) =>\r\n    dispatch({ type: CHANGE_TAB, tab, pager, payload })\r\n})\r\n\r\nconst MainView = props => {\r\n  return (\r\n    <div className='col-md-9'>\r\n      <div className='feed-toggle'>\r\n        <ul className='nav nav-pills outline-active'>\r\n          <YourFeedTab\r\n            token={props.token}\r\n            tab={props.tab}\r\n            onTabClick={props.onTabClick}\r\n          />\r\n\r\n          <GlobalFeedTab tab={props.tab} onTabClick={props.onTabClick} />\r\n\r\n          <TagFilterTab tag={props.tag} />\r\n        </ul>\r\n      </div>\r\n\r\n      <ArticleList\r\n        pager={props.pager}\r\n        articles={props.articles}\r\n        loading={props.loading}\r\n        articlesCount={props.articlesCount}\r\n        currentPage={props.currentPage}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MainView)\r\n","import React from 'react'\r\nimport agent from '../../agent'\r\n\r\nconst Tags = props => {\r\n  const tags = props.tags\r\n  if (tags) {\r\n    return (\r\n      <div className='tag-list'>\r\n        {tags.map(tag => {\r\n          const handleClick = ev => {\r\n            ev.preventDefault()\r\n            props.onClickTag(\r\n              tag,\r\n              page => agent.Articles.byTag(tag, page),\r\n              agent.Articles.byTag(tag)\r\n            )\r\n          }\r\n\r\n          return (\r\n            <a\r\n              data-cy='tag'\r\n              href=''\r\n              className='tag-default tag-pill'\r\n              key={tag}\r\n              onClick={handleClick}\r\n            >\r\n              {tag}\r\n            </a>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>Loading Tags...</div>\r\n  }\r\n}\r\n\r\nexport default Tags\r\n","import superagentPromise from 'superagent-promise';\r\nimport _superagent from 'superagent';\r\n\r\nconst superagent = superagentPromise(_superagent, global.Promise);\r\n\r\nconst API_ROOT = 'http://localhost:3000/api';\r\n\r\nconst encode = encodeURIComponent;\r\nconst responseBody = res => res.body;\r\n\r\nlet token = null;\r\nconst tokenPlugin = req => {\r\n  if (token) {\r\n    req.set('authorization', `Token ${token}`);\r\n  }\r\n}\r\n\r\nconst requests = {\r\n  del: url =>\r\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  get: url =>\r\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  put: (url, body) =>\r\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n  post: (url, body) =>\r\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\r\n};\r\n\r\nconst Auth = {\r\n  current: () =>\r\n    requests.get('/user'),\r\n  login: (email, password) =>\r\n    requests.post('/users/login', { user: { email, password } }),\r\n  register: (username, email, password) =>\r\n    requests.post('/users', { user: { username, email, password } }),\r\n  save: user =>\r\n    requests.put('/user', { user })\r\n};\r\n\r\nconst Tags = {\r\n  getAll: () => requests.get('/tags')\r\n};\r\n\r\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\r\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\r\nconst Articles = {\r\n  all: page =>\r\n    requests.get(`/articles?${limit(10, page)}`),\r\n  byAuthor: (author, page) =>\r\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\r\n  byTag: (tag, page) =>\r\n    requests.get(`/articles?tag=${encode(tag)}&${limit(10, page)}`),\r\n  del: slug =>\r\n    requests.del(`/articles/${slug}`),\r\n  favorite: slug =>\r\n    requests.post(`/articles/${slug}/favorite`),\r\n  favoritedBy: (author, page) =>\r\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\r\n  feed: () =>\r\n    requests.get('/articles/feed?limit=10&offset=0'),\r\n  get: slug =>\r\n    requests.get(`/articles/${slug}`),\r\n  unfavorite: slug =>\r\n    requests.del(`/articles/${slug}/favorite`),\r\n  update: article =>\r\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\r\n  create: article =>\r\n    requests.post('/articles', { article })\r\n};\r\n\r\nconst Comments = {\r\n  create: (slug, comment) =>\r\n    requests.post(`/articles/${slug}/comments`, { comment }),\r\n  delete: (slug, commentId) =>\r\n    requests.del(`/articles/${slug}/comments/${commentId}`),\r\n  forArticle: slug =>\r\n    requests.get(`/articles/${slug}/comments`)\r\n};\r\n\r\nconst Profile = {\r\n  follow: username =>\r\n    requests.post(`/profiles/${username}/follow`),\r\n  get: username =>\r\n    requests.get(`/profiles/${username}`),\r\n  unfollow: username =>\r\n    requests.del(`/profiles/${username}/follow`)\r\n};\r\n\r\nexport default {\r\n  Articles,\r\n  Auth,\r\n  Comments,\r\n  Profile,\r\n  Tags,\r\n  setToken: _token => { token = _token; }\r\n};\r\n","import agent from './agent';\r\nimport {\r\n  ASYNC_START,\r\n  ASYNC_END,\r\n  LOGIN,\r\n  LOGOUT,\r\n  REGISTER,\r\n  APP_LOAD,\r\n} from './constants/actionTypes';\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n  if (isPromise(action.payload)) {\r\n    store.dispatch({ type: ASYNC_START, subtype: action.type });\r\n\r\n    const currentView = store.getState().viewChangeCounter;\r\n    const skipTracking = action.skipTracking;\r\n\r\n    action.payload.then(\r\n      res => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return\r\n        }\r\n        console.log('RESULT', res);\r\n        action.payload = res;\r\n        store.dispatch({ type: ASYNC_END, promise: action.payload });\r\n        store.dispatch(action);\r\n      },\r\n      error => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return\r\n        }\r\n        console.log('ERROR', error);\r\n        action.error = true;\r\n        action.payload = error.response.body;\r\n        if (action.payload.errors.unauthorized) {\r\n          store.dispatch({type: LOGOUT});\r\n          store.dispatch({type: APP_LOAD});\r\n          return;\r\n        } else if (!action.skipTracking) {\r\n          store.dispatch({ type: ASYNC_END, promise: action.payload });\r\n        }\r\n        store.dispatch(action);\r\n      }\r\n    );\r\n\r\n    return;\r\n  }\r\n\r\n  next(action);\r\n};\r\n\r\nconst localStorageMiddleware = store => next => action => {\r\n  if (action.type === REGISTER || action.type === LOGIN) {\r\n    if (!action.error) {\r\n      window.localStorage.setItem('jwt', action.payload.user.token);\r\n      agent.setToken(action.payload.user.token);\r\n    }\r\n  } else if (action.type === LOGOUT) {\r\n    window.localStorage.setItem('jwt', '');\r\n    agent.setToken(null);\r\n  }\r\n\r\n  next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n  return v && typeof v.then === 'function';\r\n}\r\n\r\n\r\nexport { promiseMiddleware, localStorageMiddleware }\r\n","import {\r\n  APP_LOAD,\r\n  REDIRECT,\r\n  LOGOUT,\r\n  ARTICLE_SUBMITTED,\r\n  SETTINGS_SAVED,\r\n  LOGIN,\r\n  REGISTER,\r\n  DELETE_ARTICLE,\r\n  ARTICLE_PAGE_UNLOADED,\r\n  EDITOR_PAGE_UNLOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  PROFILE_FAVORITES_PAGE_UNLOADED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  LOGIN_PAGE_UNLOADED,\r\n  REGISTER_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst defaultState = {\r\n  appName: 'Conduit',\r\n  token: null,\r\n  viewChangeCounter: 0\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case APP_LOAD:\r\n      return {\r\n        ...state,\r\n        token: action.token || null,\r\n        appLoaded: true,\r\n        currentUser: action.payload ? action.payload.user : null\r\n      };\r\n    case REDIRECT:\r\n      return { ...state, redirectTo: null };\r\n    case LOGOUT:\r\n      return { ...state, redirectTo: '/', token: null, currentUser: null };\r\n    case ARTICLE_SUBMITTED:\r\n      const redirectUrl = `/article/${action.payload.article.slug}`;\r\n      return { ...state, redirectTo: redirectUrl };\r\n    case SETTINGS_SAVED:\r\n      return {\r\n        ...state,\r\n        redirectTo: action.error ? null : '/',\r\n        currentUser: action.error ? null : action.payload.user\r\n      };\r\n    case LOGIN:\r\n    case REGISTER:\r\n      return {\r\n        ...state,\r\n        redirectTo: action.error ? null : '/',\r\n        token: action.error ? null : action.payload.user.token,\r\n        currentUser: action.error ? null : action.payload.user\r\n      };\r\n    case DELETE_ARTICLE:\r\n      return { ...state, redirectTo: '/' };\r\n    case ARTICLE_PAGE_UNLOADED:\r\n    case EDITOR_PAGE_UNLOADED:\r\n    case HOME_PAGE_UNLOADED:\r\n    case PROFILE_PAGE_UNLOADED:\r\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\r\n    case SETTINGS_PAGE_UNLOADED:\r\n    case LOGIN_PAGE_UNLOADED:\r\n    case REGISTER_PAGE_UNLOADED:\r\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import article from './reducers/article';\r\nimport articleList from './reducers/articleList';\r\nimport auth from './reducers/auth';\r\nimport { combineReducers } from 'redux';\r\nimport common from './reducers/common';\r\nimport editor from './reducers/editor';\r\nimport home from './reducers/home';\r\nimport profile from './reducers/profile';\r\nimport settings from './reducers/settings';\r\nimport { routerReducer } from 'react-router-redux';\r\n\r\nexport default combineReducers({\r\n  article,\r\n  articleList,\r\n  auth,\r\n  common,\r\n  editor,\r\n  home,\r\n  profile,\r\n  settings,\r\n  router: routerReducer\r\n});\r\n","import {\r\n  ARTICLE_PAGE_LOADED,\r\n  ARTICLE_PAGE_UNLOADED,\r\n  ADD_COMMENT,\r\n  DELETE_COMMENT\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ARTICLE_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        article: action.payload[0].article,\r\n        comments: action.payload[1].comments\r\n      };\r\n    case ARTICLE_PAGE_UNLOADED:\r\n      return {};\r\n    case ADD_COMMENT:\r\n      return {\r\n        ...state,\r\n        commentErrors: action.error ? action.payload.errors : null,\r\n        comments: action.error ?\r\n          null :\r\n          (state.comments || []).concat([action.payload.comment])\r\n      };\r\n    case DELETE_COMMENT:\r\n      const commentId = action.commentId\r\n      return {\r\n        ...state,\r\n        comments: state.comments.filter(comment => comment.id !== commentId)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ARTICLE_FAVORITED,\r\n  ARTICLE_UNFAVORITED,\r\n  SET_PAGE,\r\n  APPLY_TAG_FILTER,\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  CHANGE_TAB,\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  PROFILE_FAVORITES_PAGE_LOADED,\r\n  PROFILE_FAVORITES_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ARTICLE_FAVORITED:\r\n    case ARTICLE_UNFAVORITED:\r\n      return {\r\n        ...state,\r\n        articles: state.articles.map(article => {\r\n          if (article.slug === action.payload.article.slug) {\r\n            return {\r\n              ...article,\r\n              favorited: action.payload.article.favorited,\r\n              favoritesCount: action.payload.article.favoritesCount\r\n            };\r\n          }\r\n          return article;\r\n        })\r\n      };\r\n    case SET_PAGE:\r\n      return {\r\n        ...state,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        currentPage: action.page\r\n      };\r\n    case APPLY_TAG_FILTER:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        tab: null,\r\n        tag: action.tag,\r\n        currentPage: 0\r\n      };\r\n    case HOME_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        tags: action.payload[0].tags,\r\n        articles: action.payload[1].articles,\r\n        articlesCount: action.payload[1].articlesCount,\r\n        currentPage: 0,\r\n        tab: action.tab\r\n      };\r\n    case HOME_PAGE_UNLOADED:\r\n      return {};\r\n    case CHANGE_TAB:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        tab: action.tab,\r\n        currentPage: 0,\r\n        tag: null\r\n      };\r\n    case PROFILE_PAGE_LOADED:\r\n    case PROFILE_FAVORITES_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload[1].articles,\r\n        articlesCount: action.payload[1].articlesCount,\r\n        currentPage: 0\r\n      };\r\n    case PROFILE_PAGE_UNLOADED:\r\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  LOGIN,\r\n  REGISTER,\r\n  LOGIN_PAGE_UNLOADED,\r\n  REGISTER_PAGE_UNLOADED,\r\n  ASYNC_START,\r\n  UPDATE_FIELD_AUTH\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n    case REGISTER:\r\n      return {\r\n        ...state,\r\n        inProgress: false,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case LOGIN_PAGE_UNLOADED:\r\n    case REGISTER_PAGE_UNLOADED:\r\n      return {};\r\n    case ASYNC_START:\r\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\r\n        return { ...state, inProgress: true };\r\n      }\r\n      break;\r\n    case UPDATE_FIELD_AUTH:\r\n      return { ...state, [action.key]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n","import {\r\n  EDITOR_PAGE_LOADED,\r\n  EDITOR_PAGE_UNLOADED,\r\n  ARTICLE_SUBMITTED,\r\n  ASYNC_START,\r\n  ADD_TAG,\r\n  REMOVE_TAG,\r\n  UPDATE_FIELD_EDITOR\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case EDITOR_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        articleSlug: action.payload ? action.payload.article.slug : '',\r\n        title: action.payload ? action.payload.article.title : '',\r\n        description: action.payload ? action.payload.article.description : '',\r\n        body: action.payload ? action.payload.article.body : '',\r\n        tagInput: '',\r\n        tagList: action.payload ? action.payload.article.tagList : []\r\n      };\r\n    case EDITOR_PAGE_UNLOADED:\r\n      return {};\r\n    case ARTICLE_SUBMITTED:\r\n      return {\r\n        ...state,\r\n        inProgress: null,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case ASYNC_START:\r\n      if (action.subtype === ARTICLE_SUBMITTED) {\r\n        return { ...state, inProgress: true };\r\n      }\r\n      break;\r\n    case ADD_TAG:\r\n      return {\r\n        ...state,\r\n        tagList: state.tagList.concat([state.tagInput]),\r\n        tagInput: ''\r\n      };\r\n    case REMOVE_TAG:\r\n      return {\r\n        ...state,\r\n        tagList: state.tagList.filter(tag => tag !== action.tag)\r\n      };\r\n    case UPDATE_FIELD_EDITOR:\r\n      return { ...state, [action.key]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case HOME_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        tags: action.payload[0].tags\r\n      };\r\n    case HOME_PAGE_UNLOADED:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  FOLLOW_USER,\r\n  UNFOLLOW_USER\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_PAGE_LOADED:\r\n      return {\r\n        ...action.payload[0].profile\r\n      };\r\n    case PROFILE_PAGE_UNLOADED:\r\n      return {};\r\n    case FOLLOW_USER:\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...action.payload.profile\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SETTINGS_SAVED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  ASYNC_START\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SETTINGS_SAVED:\r\n      return {\r\n        ...state,\r\n        inProgress: false,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case SETTINGS_PAGE_UNLOADED:\r\n      return {};\r\n    case ASYNC_START:\r\n      return {\r\n        ...state,\r\n        inProgress: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, createStore } from 'redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\r\nimport { promiseMiddleware, localStorageMiddleware } from './middleware'\r\nimport reducer from './reducer'\r\n\r\nimport { routerMiddleware } from 'react-router-redux'\r\nimport { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()\r\n\r\n// Build the middleware for intercepting and dispatching navigation actions\r\nconst myRouterMiddleware = routerMiddleware(history)\r\n\r\nconst getMiddleware = () => {\r\n  // we only collect code coverage in non-production environment\r\n  // thus \"IF\" branch will never get hit\r\n  /* istanbul ignore if */\r\n  if (process.env.NODE_ENV === 'production') {\r\n    return applyMiddleware(\r\n      myRouterMiddleware,\r\n      promiseMiddleware,\r\n      localStorageMiddleware\r\n    )\r\n  } else {\r\n    // Enable additional logging in non-production environments.\r\n    return applyMiddleware(\r\n      myRouterMiddleware,\r\n      promiseMiddleware,\r\n      localStorageMiddleware,\r\n      createLogger()\r\n    )\r\n  }\r\n}\r\n\r\nexport const store = createStore(reducer, composeWithDevTools(getMiddleware()))\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoggedOutView = props => {\r\n  if (!props.currentUser) {\r\n    return (\r\n      <ul className='nav navbar-nav pull-xs-right'>\r\n        <li className='nav-item' data-cy='home'>\r\n          <Link to='/' className='nav-link'>\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item' data-cy='sign-in'>\r\n          <Link to='/login' className='nav-link'>\r\n            Sign in\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item' data-cy='sign-up'>\r\n          <Link to='/register' className='nav-link'>\r\n            Sign up\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nconst LoggedInView = props => {\r\n  if (props.currentUser) {\r\n    return (\r\n      <ul className='nav navbar-nav pull-xs-right'>\r\n        <li className='nav-item' data-cy='home'>\r\n          <Link to='/' className='nav-link'>\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item' data-cy='new-post'>\r\n          <Link to='/editor' className='nav-link'>\r\n            <i className='ion-compose' />\r\n            &nbsp;New Post\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item'>\r\n          <Link to='/settings' className='nav-link'>\r\n            <i className='ion-gear-a' />\r\n            &nbsp;Settings\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item' data-cy='profile'>\r\n          <Link to={`/@${props.currentUser.username}`} className='nav-link'>\r\n            <img\r\n              src={props.currentUser.image}\r\n              className='user-pic'\r\n              alt={props.currentUser.username}\r\n            />\r\n            {props.currentUser.username}\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nclass Header extends React.Component {\r\n  render () {\r\n    return (\r\n      <nav className='navbar navbar-light'>\r\n        <div className='container'>\r\n          <Link to='/' className='navbar-brand'>\r\n            {this.props.appName.toLowerCase()}\r\n          </Link>\r\n\r\n          <LoggedOutView currentUser={this.props.currentUser} />\r\n\r\n          <LoggedInView currentUser={this.props.currentUser} />\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header\r\n","import { Link } from 'react-router-dom'\r\nimport React from 'react'\r\nimport agent from '../../agent'\r\nimport { connect } from 'react-redux'\r\nimport { DELETE_ARTICLE } from '../../constants/actionTypes'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClickDelete: payload => dispatch({ type: DELETE_ARTICLE, payload })\r\n})\r\n\r\nconst ArticleActions = props => {\r\n  const article = props.article\r\n  const del = () => {\r\n    props.onClickDelete(agent.Articles.del(article.slug))\r\n  }\r\n  if (props.canModify) {\r\n    return (\r\n      <span>\r\n        <Link\r\n          to={`/editor/${article.slug}`}\r\n          className='btn btn-outline-secondary btn-sm'\r\n          data-cy='edit-article'\r\n        >\r\n          <i className='ion-edit' /> Edit Article\r\n        </Link>\r\n\r\n        <button\r\n          className='btn btn-outline-danger btn-sm'\r\n          onClick={del}\r\n          data-cy='delete-article'\r\n        >\r\n          <i className='ion-trash-a' /> Delete Article\r\n        </button>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  return <span />\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  mapDispatchToProps\r\n)(ArticleActions)\r\n","import ArticleActions from './ArticleActions';\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst ArticleMeta = props => {\r\n  const article = props.article;\r\n  return (\r\n    <div className=\"article-meta\">\r\n      <Link to={`/@${article.author.username}`}>\r\n        <img src={article.author.image} alt={article.author.username} />\r\n      </Link>\r\n\r\n      <div className=\"info\">\r\n        <Link to={`/@${article.author.username}`} className=\"author\">\r\n          {article.author.username}\r\n        </Link>\r\n        <span className=\"date\">\r\n          {new Date(article.createdAt).toDateString()}\r\n        </span>\r\n      </div>\r\n\r\n      <ArticleActions canModify={props.canModify} article={article} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticleMeta;\r\n","import React from 'react'\r\nimport agent from '../../agent'\r\nimport { connect } from 'react-redux'\r\nimport { ADD_COMMENT } from '../../constants/actionTypes'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSubmit: payload => dispatch({ type: ADD_COMMENT, payload })\r\n})\r\n\r\nclass CommentInput extends React.Component {\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      body: ''\r\n    }\r\n\r\n    this.setBody = ev => {\r\n      this.setState({ body: ev.target.value })\r\n    }\r\n\r\n    this.createComment = ev => {\r\n      ev.preventDefault()\r\n      const payload = agent.Comments.create(this.props.slug, {\r\n        body: this.state.body\r\n      })\r\n      this.setState({ body: '' })\r\n      this.props.onSubmit(payload)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <form className='card comment-form' onSubmit={this.createComment}>\r\n        <div className='card-block'>\r\n          <textarea\r\n            className='form-control'\r\n            placeholder='Write a comment...'\r\n            data-cy='comment-text'\r\n            value={this.state.body}\r\n            onChange={this.setBody}\r\n            rows='3'\r\n          />\r\n        </div>\r\n        <div className='card-footer'>\r\n          <img\r\n            src={this.props.currentUser.image}\r\n            className='comment-author-img'\r\n            alt={this.props.currentUser.username}\r\n          />\r\n          <button\r\n            className='btn btn-sm btn-primary'\r\n            type='submit'\r\n            data-cy='post-comment'\r\n          >\r\n            Post Comment\r\n          </button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  mapDispatchToProps\r\n)(CommentInput)\r\n","import React from 'react'\r\nimport agent from '../../agent'\r\nimport { connect } from 'react-redux'\r\nimport { DELETE_COMMENT } from '../../constants/actionTypes'\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClick: (payload, commentId) =>\r\n    dispatch({ type: DELETE_COMMENT, payload, commentId })\r\n})\r\n\r\nconst DeleteButton = props => {\r\n  const del = () => {\r\n    const payload = agent.Comments.delete(props.slug, props.commentId)\r\n    props.onClick(payload, props.commentId)\r\n  }\r\n\r\n  if (props.show) {\r\n    return (\r\n      <span className='mod-options' data-cy='delete-button'>\r\n        <i className='ion-trash-a' onClick={del} />\r\n      </span>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  mapDispatchToProps\r\n)(DeleteButton)\r\n","import DeleteButton from './DeleteButton'\r\nimport { Link } from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nconst Comment = props => {\r\n  const comment = props.comment\r\n  const show =\r\n    props.currentUser && props.currentUser.username === comment.author.username\r\n  return (\r\n    <div data-cy='comment' className='card'>\r\n      <div className='card-block'>\r\n        <p className='card-text'>{comment.body}</p>\r\n      </div>\r\n      <div className='card-footer'>\r\n        <Link to={`/@${comment.author.username}`} className='comment-author'>\r\n          <img\r\n            src={comment.author.image}\r\n            className='comment-author-img'\r\n            alt={comment.author.username}\r\n          />\r\n        </Link>\r\n        &nbsp;\r\n        <Link to={`/@${comment.author.username}`} className='comment-author'>\r\n          {comment.author.username}\r\n        </Link>\r\n        <span className='date-posted'>\r\n          {new Date(comment.createdAt).toDateString()}\r\n        </span>\r\n        <DeleteButton show={show} slug={props.slug} commentId={comment.id} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comment\r\n","import Comment from './Comment'\r\nimport React from 'react'\r\n\r\nconst CommentList = props => {\r\n  return (\r\n    <div>\r\n      {props.comments.map(comment => {\r\n        return (\r\n          <Comment\r\n            comment={comment}\r\n            currentUser={props.currentUser}\r\n            slug={props.slug}\r\n            key={comment.id}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentList\r\n","import CommentInput from './CommentInput';\r\nimport CommentList from './CommentList';\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst CommentContainer = props => {\r\n  if (props.currentUser) {\r\n    return (\r\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\r\n        <div>\r\n          <list-errors errors={props.errors}></list-errors>\r\n          <CommentInput slug={props.slug} currentUser={props.currentUser} />\r\n        </div>\r\n\r\n        <CommentList\r\n          comments={props.comments}\r\n          slug={props.slug}\r\n          currentUser={props.currentUser} />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\r\n        <p>\r\n          <Link to=\"/login\">Sign in</Link>\r\n          &nbsp;or&nbsp;\r\n          <Link to=\"/register\">sign up</Link>\r\n          &nbsp;to add comments on this article.\r\n        </p>\r\n\r\n        <CommentList\r\n          comments={props.comments}\r\n          slug={props.slug}\r\n          currentUser={props.currentUser} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CommentContainer;\r\n","import ArticleMeta from './ArticleMeta';\r\nimport CommentContainer from './CommentContainer';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport marked from 'marked';\r\nimport { ARTICLE_PAGE_LOADED, ARTICLE_PAGE_UNLOADED } from '../../constants/actionTypes';\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.article,\r\n  currentUser: state.common.currentUser\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: payload =>\r\n    dispatch({ type: ARTICLE_PAGE_LOADED, payload }),\r\n  onUnload: () =>\r\n    dispatch({ type: ARTICLE_PAGE_UNLOADED })\r\n});\r\n\r\nclass Article extends React.Component {\r\n  componentWillMount() {\r\n    this.props.onLoad(Promise.all([\r\n      agent.Articles.get(this.props.match.params.id),\r\n      agent.Comments.forArticle(this.props.match.params.id)\r\n    ]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.article) {\r\n      return null;\r\n    }\r\n\r\n    const markup = { __html: marked(this.props.article.body, { sanitize: true }) };\r\n    const canModify = this.props.currentUser &&\r\n      this.props.currentUser.username === this.props.article.author.username;\r\n    return (\r\n      <div className=\"article-page\">\r\n\r\n        <div className=\"banner\">\r\n          <div className=\"container\">\r\n\r\n            <h1>{this.props.article.title}</h1>\r\n            <ArticleMeta\r\n              article={this.props.article}\r\n              canModify={canModify} />\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container page\">\r\n\r\n          <div className=\"row article-content\">\r\n            <div className=\"col-xs-12\">\r\n\r\n              <div dangerouslySetInnerHTML={markup}></div>\r\n\r\n              <ul className=\"tag-list\">\r\n                {\r\n                  this.props.article.tagList.map(tag => {\r\n                    return (\r\n                      <li\r\n                        className=\"tag-default tag-pill tag-outline\"\r\n                        key={tag}>\r\n                        {tag}\r\n                      </li>\r\n                    );\r\n                  })\r\n                }\r\n              </ul>\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <div className=\"article-actions\">\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <CommentContainer\r\n              comments={this.props.comments || []}\r\n              errors={this.props.commentErrors}\r\n              slug={this.props.match.params.id}\r\n              currentUser={this.props.currentUser} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);\r\n","import React from 'react';\r\n\r\nclass ListErrors extends React.Component {\r\n  render() {\r\n    const errors = this.props.errors;\r\n    if (errors) {\r\n      return (\r\n        <ul className=\"error-messages\">\r\n          {\r\n            Object.keys(errors).map(key => {\r\n              return (\r\n                <li key={key}>\r\n                  {key} {errors[key]}\r\n                </li>\r\n              );\r\n            })\r\n          }\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ListErrors;\r\n","import ListErrors from './ListErrors'\r\nimport React from 'react'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  ADD_TAG,\r\n  EDITOR_PAGE_LOADED,\r\n  REMOVE_TAG,\r\n  ARTICLE_SUBMITTED,\r\n  EDITOR_PAGE_UNLOADED,\r\n  UPDATE_FIELD_EDITOR\r\n} from '../constants/actionTypes'\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.editor\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onAddTag: () => dispatch({ type: ADD_TAG }),\r\n  onLoad: payload => dispatch({ type: EDITOR_PAGE_LOADED, payload }),\r\n  onRemoveTag: tag => dispatch({ type: REMOVE_TAG, tag }),\r\n  onSubmit: payload => dispatch({ type: ARTICLE_SUBMITTED, payload }),\r\n  onUnload: payload => dispatch({ type: EDITOR_PAGE_UNLOADED }),\r\n  onUpdateField: (key, value) =>\r\n    dispatch({ type: UPDATE_FIELD_EDITOR, key, value })\r\n})\r\n\r\nclass Editor extends React.Component {\r\n  constructor () {\r\n    super()\r\n\r\n    const updateFieldEvent = key => ev =>\r\n      this.props.onUpdateField(key, ev.target.value)\r\n    this.changeTitle = updateFieldEvent('title')\r\n    this.changeDescription = updateFieldEvent('description')\r\n    this.changeBody = updateFieldEvent('body')\r\n    this.changeTagInput = updateFieldEvent('tagInput')\r\n\r\n    this.watchForEnter = ev => {\r\n      if (ev.keyCode === 13) {\r\n        ev.preventDefault()\r\n        this.props.onAddTag()\r\n      }\r\n    }\r\n\r\n    this.removeTagHandler = tag => () => {\r\n      this.props.onRemoveTag(tag)\r\n    }\r\n\r\n    this.submitForm = ev => {\r\n      ev.preventDefault()\r\n      const article = {\r\n        title: this.props.title,\r\n        description: this.props.description,\r\n        body: this.props.body,\r\n        tagList: this.props.tagList\r\n      }\r\n\r\n      const slug = { slug: this.props.articleSlug }\r\n      const promise = this.props.articleSlug\r\n        ? agent.Articles.update(Object.assign(article, slug))\r\n        : agent.Articles.create(article)\r\n\r\n      this.props.onSubmit(promise)\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps (nextProps) {\r\n    if (this.props.match.params.slug !== nextProps.match.params.slug) {\r\n      if (nextProps.match.params.slug) {\r\n        this.props.onUnload()\r\n        return this.props.onLoad(\r\n          agent.Articles.get(this.props.match.params.slug)\r\n        )\r\n      }\r\n      this.props.onLoad(null)\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    if (this.props.match.params.slug) {\r\n      return this.props.onLoad(agent.Articles.get(this.props.match.params.slug))\r\n    }\r\n    this.props.onLoad(null)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this.props.onUnload()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className='editor-page'>\r\n        <div className='container page'>\r\n          <div className='row'>\r\n            <div className='col-md-10 offset-md-1 col-xs-12'>\r\n              <ListErrors errors={this.props.errors} />\r\n\r\n              <form>\r\n                <fieldset>\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control form-control-lg'\r\n                      type='text'\r\n                      placeholder='Article Title'\r\n                      data-cy='title'\r\n                      value={this.props.title}\r\n                      onChange={this.changeTitle}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control'\r\n                      type='text'\r\n                      data-cy='about'\r\n                      placeholder=\"What's this article about?\"\r\n                      value={this.props.description}\r\n                      onChange={this.changeDescription}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <fieldset className='form-group'>\r\n                    <textarea\r\n                      className='form-control'\r\n                      rows='8'\r\n                      data-cy='article'\r\n                      placeholder='Write your article (in markdown)'\r\n                      value={this.props.body}\r\n                      onChange={this.changeBody}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control'\r\n                      type='text'\r\n                      data-cy='tags'\r\n                      placeholder='Enter tags'\r\n                      value={this.props.tagInput}\r\n                      onChange={this.changeTagInput}\r\n                      onKeyUp={this.watchForEnter}\r\n                    />\r\n\r\n                    <div className='tag-list'>\r\n                      {(this.props.tagList || []).map(tag => {\r\n                        return (\r\n                          <span className='tag-default tag-pill' key={tag}>\r\n                            <i\r\n                              className='ion-close-round'\r\n                              data-cy='remove-tag'\r\n                              onClick={this.removeTagHandler(tag)}\r\n                            />\r\n                            {tag}\r\n                          </span>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </fieldset>\r\n\r\n                  <button\r\n                    className='btn btn-lg pull-xs-right btn-primary'\r\n                    type='button'\r\n                    data-cy='publish'\r\n                    disabled={this.props.inProgress}\r\n                    onClick={this.submitForm}\r\n                  >\r\n                    Publish Article\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Editor)\r\n","import { Link } from 'react-router-dom';\r\nimport ListErrors from './ListErrors';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  UPDATE_FIELD_AUTH,\r\n  LOGIN,\r\n  LOGIN_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst mapStateToProps = state => ({ ...state.auth });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onChangeEmail: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\r\n  onChangePassword: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\r\n  onSubmit: (email, password) =>\r\n    dispatch({ type: LOGIN, payload: agent.Auth.login(email, password) }),\r\n  onUnload: () =>\r\n    dispatch({ type: LOGIN_PAGE_UNLOADED })\r\n});\r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\r\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\r\n    this.submitForm = (email, password) => ev => {\r\n      ev.preventDefault();\r\n      this.props.onSubmit(email, password);\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    const email = this.props.email;\r\n    const password = this.props.password;\r\n    return (\r\n      <div className=\"auth-page\">\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n              <h1 className=\"text-xs-center\">Sign In</h1>\r\n              <p className=\"text-xs-center\">\r\n                <Link to=\"/register\">\r\n                  Need an account?\r\n                </Link>\r\n              </p>\r\n\r\n              <ListErrors errors={this.props.errors} />\r\n\r\n              <form onSubmit={this.submitForm(email, password)}>\r\n                <fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      value={email}\r\n                      onChange={this.changeEmail} />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      value={password}\r\n                      onChange={this.changePassword} />\r\n                  </fieldset>\r\n\r\n                  <button\r\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                    type=\"submit\"\r\n                    disabled={this.props.inProgress}>\r\n                    Sign in\r\n                  </button>\r\n\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import ArticleList from './ArticleList'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  FOLLOW_USER,\r\n  UNFOLLOW_USER,\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED\r\n} from '../constants/actionTypes'\r\n\r\nconst EditProfileSettings = props => {\r\n  if (props.isUser) {\r\n    return (\r\n      <Link\r\n        to='/settings'\r\n        data-cy='edit-profile-settings'\r\n        className='btn btn-sm btn-outline-secondary action-btn'\r\n      >\r\n        <i className='ion-gear-a' /> Edit Profile Settings\r\n      </Link>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nconst FollowUserButton = props => {\r\n  if (props.isUser) {\r\n    return null\r\n  }\r\n\r\n  let classes = 'btn btn-sm action-btn'\r\n  if (props.user.following) {\r\n    classes += ' btn-secondary'\r\n  } else {\r\n    classes += ' btn-outline-secondary'\r\n  }\r\n\r\n  const handleClick = ev => {\r\n    ev.preventDefault()\r\n    if (props.user.following) {\r\n      props.unfollow(props.user.username)\r\n    } else {\r\n      props.follow(props.user.username)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      data-cy='follow-unfollow-user'\r\n      className={classes}\r\n      onClick={handleClick}\r\n    >\r\n      <i className='ion-plus-round' />\r\n      &nbsp;\r\n      {props.user.following ? 'Unfollow' : 'Follow'} {props.user.username}\r\n    </button>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.articleList,\r\n  currentUser: state.common.currentUser,\r\n  profile: state.profile\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onFollow: username =>\r\n    dispatch({\r\n      type: FOLLOW_USER,\r\n      payload: agent.Profile.follow(username)\r\n    }),\r\n  onLoad: payload => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\r\n  onUnfollow: username =>\r\n    dispatch({\r\n      type: UNFOLLOW_USER,\r\n      payload: agent.Profile.unfollow(username)\r\n    }),\r\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED })\r\n})\r\n\r\nclass Profile extends React.Component {\r\n  componentWillMount () {\r\n    this.props.onLoad(\r\n      Promise.all([\r\n        agent.Profile.get(this.props.match.params.username),\r\n        agent.Articles.byAuthor(this.props.match.params.username)\r\n      ])\r\n    )\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this.props.onUnload()\r\n  }\r\n\r\n  renderTabs () {\r\n    return (\r\n      <ul className='nav nav-pills outline-active'>\r\n        <li className='nav-item'>\r\n          <Link\r\n            className='nav-link active'\r\n            to={`/@${this.props.profile.username}`}\r\n          >\r\n            My Articles\r\n          </Link>\r\n        </li>\r\n\r\n        <li className='nav-item' data-cy='favorited-articles'>\r\n          <Link\r\n            className='nav-link'\r\n            to={`/@${this.props.profile.username}/favorites`}\r\n          >\r\n            Favorited Articles\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const profile = this.props.profile\r\n    if (!profile) {\r\n      return null\r\n    }\r\n\r\n    const isUser =\r\n      this.props.currentUser &&\r\n      this.props.profile.username === this.props.currentUser.username\r\n\r\n    return (\r\n      <div className='profile-page'>\r\n        <div className='user-info' data-cy='user-info'>\r\n          <div className='container'>\r\n            <div className='row'>\r\n              <div className='col-xs-12 col-md-10 offset-md-1'>\r\n                <img\r\n                  src={profile.image}\r\n                  className='user-img'\r\n                  alt={profile.username}\r\n                />\r\n                <h4 data-cy='username'>{profile.username}</h4>\r\n                <p data-cy='bio'>{profile.bio}</p>\r\n\r\n                <EditProfileSettings isUser={isUser} />\r\n                <FollowUserButton\r\n                  isUser={isUser}\r\n                  user={profile}\r\n                  follow={this.props.onFollow}\r\n                  unfollow={this.props.onUnfollow}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='container'>\r\n          <div className='row'>\r\n            <div className='col-xs-12 col-md-10 offset-md-1'>\r\n              <div className='articles-toggle'>{this.renderTabs()}</div>\r\n\r\n              <ArticleList\r\n                pager={this.props.pager}\r\n                articles={this.props.articles}\r\n                articlesCount={this.props.articlesCount}\r\n                state={this.props.currentPage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Profile)\r\nexport { Profile, mapStateToProps }\r\n","import { Profile, mapStateToProps } from './Profile';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (pager, payload) =>\r\n    dispatch({ type: PROFILE_PAGE_LOADED, pager, payload }),\r\n  onUnload: () =>\r\n    dispatch({ type: PROFILE_PAGE_UNLOADED })\r\n});\r\n\r\nclass ProfileFavorites extends Profile {\r\n  componentWillMount() {\r\n    this.props.onLoad(page => agent.Articles.favoritedBy(this.props.match.params.username, page), Promise.all([\r\n      agent.Profile.get(this.props.match.params.username),\r\n      agent.Articles.favoritedBy(this.props.match.params.username)\r\n    ]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  renderTabs() {\r\n    return (\r\n      <ul className=\"nav nav-pills outline-active\">\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link\"\r\n            to={`/@${this.props.profile.username}`}>\r\n            My Articles\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link active\"\r\n            to={`/@${this.props.profile.username}/favorites`}>\r\n            Favorited Articles\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileFavorites);\r\n","import { Link } from 'react-router-dom'\r\nimport ListErrors from './ListErrors'\r\nimport React from 'react'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  UPDATE_FIELD_AUTH,\r\n  REGISTER,\r\n  REGISTER_PAGE_UNLOADED\r\n} from '../constants/actionTypes'\r\n\r\nconst mapStateToProps = state => ({ ...state.auth })\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onChangeEmail: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\r\n  onChangePassword: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\r\n  onChangeUsername: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\r\n  onSubmit: (username, email, password) => {\r\n    const payload = agent.Auth.register(username, email, password)\r\n    dispatch({ type: REGISTER, payload })\r\n  },\r\n  onUnload: () => dispatch({ type: REGISTER_PAGE_UNLOADED })\r\n})\r\n\r\nclass Register extends React.Component {\r\n  constructor () {\r\n    super()\r\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value)\r\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value)\r\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value)\r\n    this.submitForm = (username, email, password) => ev => {\r\n      ev.preventDefault()\r\n      this.props.onSubmit(username, email, password)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this.props.onUnload()\r\n  }\r\n\r\n  render () {\r\n    const email = this.props.email\r\n    const password = this.props.password\r\n    const username = this.props.username\r\n\r\n    return (\r\n      <div className='auth-page'>\r\n        <div className='container page'>\r\n          <div className='row'>\r\n            <div className='col-md-6 offset-md-3 col-xs-12'>\r\n              <h1 className='text-xs-center'>Sign Up</h1>\r\n              <p className='text-xs-center'>\r\n                <Link to='/login'>Have an account?</Link>\r\n              </p>\r\n\r\n              <ListErrors errors={this.props.errors} />\r\n\r\n              <form onSubmit={this.submitForm(username, email, password)}>\r\n                <fieldset>\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control form-control-lg'\r\n                      type='text'\r\n                      placeholder='Username'\r\n                      data-cy='username'\r\n                      value={this.props.username}\r\n                      onChange={this.changeUsername}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control form-control-lg'\r\n                      type='email'\r\n                      placeholder='Email'\r\n                      data-cy='email'\r\n                      value={this.props.email}\r\n                      onChange={this.changeEmail}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <fieldset className='form-group'>\r\n                    <input\r\n                      className='form-control form-control-lg'\r\n                      type='password'\r\n                      placeholder='Password'\r\n                      data-cy='password'\r\n                      value={this.props.password}\r\n                      onChange={this.changePassword}\r\n                    />\r\n                  </fieldset>\r\n\r\n                  <button\r\n                    className='btn btn-lg btn-primary pull-xs-right'\r\n                    type='submit'\r\n                    disabled={this.props.inProgress}\r\n                  >\r\n                    Sign up\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Register)\r\n","import ListErrors from './ListErrors'\r\nimport React from 'react'\r\nimport agent from '../agent'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  SETTINGS_SAVED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  LOGOUT\r\n} from '../constants/actionTypes'\r\n\r\nclass SettingsForm extends React.Component {\r\n  constructor () {\r\n    super()\r\n\r\n    this.state = {\r\n      image: '',\r\n      username: '',\r\n      bio: '',\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.updateState = field => ev => {\r\n      const state = this.state\r\n      const newState = Object.assign({}, state, { [field]: ev.target.value })\r\n      this.setState(newState)\r\n    }\r\n\r\n    this.submitForm = ev => {\r\n      ev.preventDefault()\r\n\r\n      const user = Object.assign({}, this.state)\r\n      if (!user.password) {\r\n        delete user.password\r\n      }\r\n\r\n      this.props.onSubmitForm(user)\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    if (this.props.currentUser) {\r\n      Object.assign(this.state, {\r\n        image: this.props.currentUser.image || '',\r\n        username: this.props.currentUser.username,\r\n        bio: this.props.currentUser.bio,\r\n        email: this.props.currentUser.email\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps (nextProps) {\r\n    if (nextProps.currentUser) {\r\n      this.setState(\r\n        Object.assign({}, this.state, {\r\n          image: nextProps.currentUser.image || '',\r\n          username: nextProps.currentUser.username,\r\n          bio: nextProps.currentUser.bio,\r\n          email: nextProps.currentUser.email\r\n        })\r\n      )\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <form onSubmit={this.submitForm}>\r\n        <fieldset>\r\n          <fieldset className='form-group'>\r\n            <input\r\n              data-cy='image-url'\r\n              className='form-control'\r\n              type='text'\r\n              placeholder='URL of profile picture'\r\n              value={this.state.image}\r\n              onChange={this.updateState('image')}\r\n            />\r\n          </fieldset>\r\n\r\n          <fieldset className='form-group'>\r\n            <input\r\n              data-cy='username'\r\n              className='form-control form-control-lg'\r\n              type='text'\r\n              placeholder='Username'\r\n              value={this.state.username}\r\n              onChange={this.updateState('username')}\r\n            />\r\n          </fieldset>\r\n\r\n          <fieldset className='form-group'>\r\n            <textarea\r\n              className='form-control form-control-lg'\r\n              rows='8'\r\n              data-cy='bio'\r\n              placeholder='Short bio about you'\r\n              value={this.state.bio || ''}\r\n              onChange={this.updateState('bio')}\r\n            />\r\n          </fieldset>\r\n\r\n          <fieldset className='form-group'>\r\n            <input\r\n              className='form-control form-control-lg'\r\n              type='email'\r\n              data-cy='email'\r\n              placeholder='Email'\r\n              value={this.state.email}\r\n              onChange={this.updateState('email')}\r\n            />\r\n          </fieldset>\r\n\r\n          <fieldset className='form-group'>\r\n            <input\r\n              className='form-control form-control-lg'\r\n              type='password'\r\n              data-cy='password'\r\n              placeholder='New Password'\r\n              value={this.state.password}\r\n              onChange={this.updateState('password')}\r\n            />\r\n          </fieldset>\r\n\r\n          <button\r\n            className='btn btn-lg btn-primary pull-xs-right'\r\n            type='submit'\r\n            disabled={this.state.inProgress}\r\n          >\r\n            Update Settings\r\n          </button>\r\n        </fieldset>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.settings,\r\n  currentUser: state.common.currentUser\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClickLogout: () => dispatch({ type: LOGOUT }),\r\n  onSubmitForm: user =>\r\n    dispatch({ type: SETTINGS_SAVED, payload: agent.Auth.save(user) }),\r\n  onUnload: () => dispatch({ type: SETTINGS_PAGE_UNLOADED })\r\n})\r\n\r\nclass Settings extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='settings-page'>\r\n        <div className='container page'>\r\n          <div className='row'>\r\n            <div className='col-md-6 offset-md-3 col-xs-12'>\r\n              <h1 className='text-xs-center'>Your Settings</h1>\r\n\r\n              <ListErrors errors={this.props.errors} />\r\n\r\n              <SettingsForm\r\n                currentUser={this.props.currentUser}\r\n                onSubmitForm={this.props.onSubmitForm}\r\n              />\r\n\r\n              <hr />\r\n\r\n              <button\r\n                data-cy='logout'\r\n                className='btn btn-outline-danger'\r\n                onClick={this.props.onClickLogout}\r\n              >\r\n                Or click here to logout.\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Settings)\r\n","import agent from '../agent';\r\nimport Header from './Header';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { APP_LOAD, REDIRECT } from '../constants/actionTypes';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Article from '../components/Article';\r\nimport Editor from '../components/Editor';\r\nimport Home from '../components/Home';\r\nimport Login from '../components/Login';\r\nimport Profile from '../components/Profile';\r\nimport ProfileFavorites from '../components/ProfileFavorites';\r\nimport Register from '../components/Register';\r\nimport Settings from '../components/Settings';\r\nimport { store } from '../store';\r\nimport { push } from 'react-router-redux';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    appLoaded: state.common.appLoaded,\r\n    appName: state.common.appName,\r\n    currentUser: state.common.currentUser,\r\n    redirectTo: state.common.redirectTo\r\n  }};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (payload, token) =>\r\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\r\n  onRedirect: () =>\r\n    dispatch({ type: REDIRECT })\r\n});\r\n\r\nclass App extends React.Component {\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.redirectTo) {\r\n      // this.context.router.replace(nextProps.redirectTo);\r\n      store.dispatch(push(nextProps.redirectTo));\r\n      this.props.onRedirect();\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const token = window.localStorage.getItem('jwt');\r\n    if (token) {\r\n      agent.setToken(token);\r\n    }\r\n\r\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.appLoaded) {\r\n      return (\r\n        <div>\r\n          <Header\r\n            appName={this.props.appName}\r\n            currentUser={this.props.currentUser} />\r\n            <Switch>\r\n            <Route exact path=\"/\" component={Home}/>\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/register\" component={Register} />\r\n            <Route path=\"/editor/:slug\" component={Editor} />\r\n            <Route path=\"/editor\" component={Editor} />\r\n            <Route path=\"/article/:id\" component={Article} />\r\n            <Route path=\"/settings\" component={Settings} />\r\n            <Route path=\"/@:username/favorites\" component={ProfileFavorites} />\r\n            <Route path=\"/@:username\" component={Profile} />\r\n            </Switch>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <Header\r\n          appName={this.props.appName}\r\n          currentUser={this.props.currentUser} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// App.contextTypes = {\r\n//   router: PropTypes.object.isRequired\r\n// };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport React from 'react'\r\nimport { store, history } from './store'\r\nimport agent from './agent'\r\n\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { ConnectedRouter } from 'react-router-redux'\r\n\r\nimport App from './components/App'\r\n\r\n// we always will hit \"IF\" branch during Cypress tests\r\n// so we should ignore \"ELSE\" branch for code coverage purposes\r\n// https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md\r\n/* istanbul ignore else */\r\nif (window.Cypress) {\r\n  window.store = store\r\n  window.agent = agent\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <Switch>\r\n        <Route path='/' component={App} />\r\n      </Switch>\r\n    </ConnectedRouter>\r\n  </Provider>,\r\n\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}